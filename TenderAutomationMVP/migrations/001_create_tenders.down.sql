-- =====================================================================
-- üóÉÔ∏è –û–¢–ö–ê–¢ –ú–ò–ì–†–ê–¶–ò–ò: –£–î–ê–õ–ï–ù–ò–ï –¢–ê–ë–õ–ò–¶–´ TENDERS
-- =====================================================================
-- 
-- –≠—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã tenders –∏ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
-- –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —É–¥–∞–ª–∏—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ tenders!
--
-- TODO: –ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –≤ production:
-- 1. –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –¥–∞–Ω–Ω—ã—Ö
-- 2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
-- 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ —Ç–∞–±–ª–∏—Ü–µ
-- 4. –£–≤–µ–¥–æ–º–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

-- =====================================================================
-- üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –¢–†–ò–ì–ì–ï–†–û–í –ò –§–£–ù–ö–¶–ò–ô
-- =====================================================================

-- –£–¥–∞–ª—è–µ–º —Ç—Ä–∏–≥–≥–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è updated_at
DROP TRIGGER IF EXISTS trigger_tenders_updated_at ON tenders;

-- –£–¥–∞–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è updated_at
DROP FUNCTION IF EXISTS update_updated_at_column();

-- =====================================================================
-- üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –ò–ù–î–ï–ö–°–û–í (–±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å —Ç–∞–±–ª–∏—Ü–µ–π)
-- =====================================================================

-- –ò–Ω–¥–µ–∫—Å—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–µ–Ω—ã –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã,
-- –Ω–æ –¥–ª—è —è–≤–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—á–∏—Å–ª–∏–º —á—Ç–æ –∏–º–µ–Ω–Ω–æ —É–¥–∞–ª—è–µ—Ç—Å—è:

-- DROP INDEX IF EXISTS idx_tenders_external_id;    -- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å
-- DROP INDEX IF EXISTS idx_tenders_platform;       -- –ò–Ω–¥–µ–∫—Å –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
-- DROP INDEX IF EXISTS idx_tenders_status;         -- –ò–Ω–¥–µ–∫—Å –ø–æ —Å—Ç–∞—Ç—É—Å—É
-- DROP INDEX IF EXISTS idx_tenders_deadline;       -- –ò–Ω–¥–µ–∫—Å –ø–æ –¥–µ–¥–ª–∞–π–Ω—É
-- DROP INDEX IF EXISTS idx_tenders_ai_score;       -- –ò–Ω–¥–µ–∫—Å –ø–æ AI –æ—Ü–µ–Ω–∫–µ
-- DROP INDEX IF EXISTS idx_tenders_status_created; -- –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å
-- DROP INDEX IF EXISTS idx_tenders_platform_status;-- –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å
-- DROP INDEX IF EXISTS idx_tenders_created_at;     -- –ò–Ω–¥–µ–∫—Å –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è

-- =====================================================================
-- üóëÔ∏è –£–î–ê–õ–ï–ù–ò–ï –¢–ê–ë–õ–ò–¶–´
-- =====================================================================

-- –£–¥–∞–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Ç–∞–±–ª–∏—Ü—É tenders
-- –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ –±–µ–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏!
DROP TABLE IF EXISTS tenders CASCADE;

-- =====================================================================
-- ‚úÖ –û–¢–ö–ê–¢ –ó–ê–í–ï–†–®–ï–ù
-- =====================================================================

-- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:
-- 1. –¢–∞–±–ª–∏—Ü–∞ tenders –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞
-- 2. –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã —É–¥–∞–ª–µ–Ω—ã
-- 3. –¢—Ä–∏–≥–≥–µ—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —É–¥–∞–ª–µ–Ω—ã
-- 4. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —É—Ç–µ—Ä—è–Ω—ã
--
-- –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:
-- 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å up –º–∏–≥—Ä–∞—Ü–∏—é: 001_create_tenders.up.sql
-- 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
-- 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
-- 4. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã

-- TODO: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞:
-- 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
-- 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –µ—Å–ª–∏ –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö)
-- 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
-- 4. –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
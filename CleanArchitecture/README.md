# ๐๏ธ Clean Architecture URL Shortener

ะญัะพ **ะฟะพะปะฝะพัะตะฝะฝะฐั ัะตะฐะปะธะทะฐัะธั Clean Architecture** ะฝะฐ Go ะดะปั ัะตัะฒะธัะฐ ัะพะบัะฐัะตะฝะธั URL. ะัะพะตะบั ะดะตะผะพะฝัััะธััะตั ะฒัะต ะฟัะธะฝัะธะฟั ัะธััะพะน ะฐััะธัะตะบัััั ั ะดะตัะฐะปัะฝัะผะธ ะบะพะผะผะตะฝัะฐัะธัะผะธ ะฒ ะบะพะดะต.

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [๐ฏ ะงัะพ ัะฐะบะพะต Clean Architecture](#-ััะพ-ัะฐะบะพะต-clean-architecture)
- [๐๏ธ ะััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ](#๏ธ-ะฐััะธัะตะบัััะฐ-ะฟัะพะตะบัะฐ)
- [๐ ะกัััะบัััะฐ ะฟะฐะฟะพะบ](#-ััััะบัััะฐ-ะฟะฐะฟะพะบ)
- [๐ ะะพัะพะบ ะดะฐะฝะฝัั](#-ะฟะพัะพะบ-ะดะฐะฝะฝัั)
- [๐ ะะฐะฟััะบ ะฟัะพะตะบัะฐ](#-ะทะฐะฟััะบ-ะฟัะพะตะบัะฐ)
- [๐ก API Endpoints](#-api-endpoints)
- [๐งช ะขะตััะธัะพะฒะฐะฝะธะต](#-ัะตััะธัะพะฒะฐะฝะธะต)
- [๐ง ะะพะฝัะธะณััะฐัะธั](#-ะบะพะฝัะธะณััะฐัะธั)
- [๐ ะัะตะธะผััะตััะฒะฐ ะฐััะธัะตะบัััั](#-ะฟัะตะธะผััะตััะฒะฐ-ะฐััะธัะตะบัััั)

## ๐ฏ ะงัะพ ัะฐะบะพะต Clean Architecture

**Clean Architecture** - ััะพ ะฐััะธัะตะบัััะฝัะน ะฟะพะดัะพะด, ะฟัะตะดะปะพะถะตะฝะฝัะน ะะพะฑะตััะพะผ ะะฐััะธะฝะพะผ (Uncle Bob), ะบะพัะพััะน ะพะฑะตัะฟะตัะธะฒะฐะตั:

### โ ะัะฝะพะฒะฝัะต ะฟัะธะฝัะธะฟั:

1. **ะะตะทะฐะฒะธัะธะผะพััั ะพั ััะตะนะผะฒะพัะบะพะฒ** - ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ ะฝะต ะทะฐะฒะธัะธั ะพั ะฒะฝะตัะฝะธั ะฑะธะฑะปะธะพัะตะบ
2. **ะขะตััะธััะตะผะพััั** - ะผะพะถะฝะพ ัะตััะธัะพะฒะฐัั ะฑะตะท UI, ะะ ะธ ะฒะตะฑ-ัะตัะฒะตัะฐ
3. **ะะตะทะฐะฒะธัะธะผะพััั ะพั UI** - ะผะพะถะฝะพ ะปะตะณะบะพ ะทะฐะผะตะฝะธัั ะฒะตะฑ-ะธะฝัะตััะตะนั ะฝะฐ ะบะพะฝัะพะปัะฝัะน
4. **ะะตะทะฐะฒะธัะธะผะพััั ะพั ะะ** - ะผะพะถะฝะพ ะทะฐะผะตะฝะธัั PostgreSQL ะฝะฐ MongoDB ะฑะตะท ะธะทะผะตะฝะตะฝะธั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ
5. **ะะตะทะฐะฒะธัะธะผะพััั ะพั ะฒะฝะตัะฝะธั ัะตัะฒะธัะพะฒ** - ะฑะธะทะฝะตั-ะฟัะฐะฒะธะปะฐ ะฝะต ะทะฝะฐัั ะพ ะฒะฝะตัะฝะตะผ ะผะธัะต

### ๐๏ธ ะกะปะพะธ ะฐััะธัะตะบัััั:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ๐ FRAMEWORKS & DRIVERS                  โ
โ              (Web, DB, External APIs, Devices)             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                   ๐ INTERFACE ADAPTERS                     โ
โ            (Controllers, Gateways, Presenters)             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                     ๐ผ USE CASES                            โ
โ              (Application Business Rules)                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                     ๐๏ธ ENTITIES                             โ
โ               (Enterprise Business Rules)                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ ะัะฐะฒะธะปะพ ะทะฐะฒะธัะธะผะพััะตะน:

ะะฐะฒะธัะธะผะพััะธ **ะะกะะะะ** ะฝะฐะฟัะฐะฒะปะตะฝั ะฒะฝัััั. ะะฝัััะตะฝะฝะธะต ัะปะพะธ ะะ ะะะะฎะข ะพ ะฒะฝะตัะฝะธั ัะปะพัั.

## ๐๏ธ ะััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ

### ๐ต Domain Layer (Entities)
**ะะฐัะฟะพะปะพะถะตะฝะธะต:** `internal/domain/`

**ะงัะพ ัะพะดะตัะถะธั:**
- ๐๏ธ **Entities** - ะดะพะผะตะฝะฝัะต ะผะพะดะตะปะธ ั ะฑะธะทะฝะตั-ะปะพะณะธะบะพะน
- ๐ **Repository Interfaces** - ะธะฝัะตััะตะนัั ะดะปั ัะฐะฑะพัั ั ะดะฐะฝะฝัะผะธ
- โ **Domain Errors** - ะดะพะผะตะฝะฝัะต ะพัะธะฑะบะธ

**ะัะธะฝัะธะฟั:**
- โ ะะะข ะทะฐะฒะธัะธะผะพััะตะน ะพั ะฒะฝะตัะฝะธั ะฑะธะฑะปะธะพัะตะบ (ะบัะพะผะต ััะฐะฝะดะฐััะฝะพะน ะฑะธะฑะปะธะพัะตะบะธ Go)
- โ ะกะพะดะตัะถะธั ัะธัััั ะฑะธะทะฝะตั-ะปะพะณะธะบั
- โ ะะฟัะตะดะตะปัะตั ะธะฝัะตััะตะนัั ะดะปั ะฒะฝะตัะฝะธั ัะตัะฒะธัะพะฒ

**ะัะธะผะตั:**
```go
// internal/domain/user/entity.go
type User struct {
    ID             uint
    Email          string
    HashedPassword string
    Name           string
    CreatedAt      time.Time
    UpdatedAt      time.Time
}

func NewUser(email, name string) (*User, error) {
    if !isValidEmail(email) {
        return nil, ErrInvalidEmail
    }
    // ะะพะผะตะฝะฝัะต ะฟัะฐะฒะธะปะฐ ะฒะฐะปะธะดะฐัะธะธ
}
```

### ๐ต Use Cases Layer (Application Business Rules)
**ะะฐัะฟะพะปะพะถะตะฝะธะต:** `internal/usecase/`

**ะงัะพ ัะพะดะตัะถะธั:**
- ๐ฏ **Use Cases** - ััะตะฝะฐัะธะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฟัะธะปะพะถะตะฝะธั
- ๐ **Interfaces** - ะธะฝัะตััะตะนัั ะดะปั ะฒะฝะตัะฝะธั ะทะฐะฒะธัะธะผะพััะตะน
- ๐ **Request/Response** - ััััะบัััั ะดะปั ะฒัะพะดะฝัั ะธ ะฒััะพะดะฝัั ะดะฐะฝะฝัั

**ะัะธะฝัะธะฟั:**
- โ ะัะบะตัััะธััะตั ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ะผะตะถะดั Entities
- โ ะกะพะดะตัะถะธั application-ัะฟะตัะธัะธัะฝัั ะฑะธะทะฝะตั-ะปะพะณะธะบั
- โ ะะฐะฒะธัะธั ัะพะปัะบะพ ะพั Domain ัะปะพั

**ะัะธะผะตั:**
```go
// internal/usecase/auth/register.go
func (uc *RegisterUseCase) Execute(ctx context.Context, req RegisterRequest) (*RegisterResponse, error) {
    // 1. ะัะพะฒะตััะตะผ ัััะตััะฒะพะฒะฐะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั
    exists, err := uc.userRepo.Exists(ctx, req.Email)
    
    // 2. ะกะพะทะดะฐะตะผ ะดะพะผะตะฝะฝัั ะผะพะดะตะปั
    newUser, err := user.NewUser(req.Email, req.Name)
    
    // 3. ะฅะตัะธััะตะผ ะฟะฐัะพะปั ัะตัะตะท ะฒะฝะตัะฝะธะน ัะตัะฒะธั
    hashedPassword, err := uc.passwordHasher.Hash(req.Password)
    
    // 4. ะกะพััะฐะฝัะตะผ ัะตัะตะท ัะตะฟะพะทะธัะพัะธะน
    err = uc.userRepo.Save(ctx, newUser)
    
    return &RegisterResponse{Token: token}, nil
}
```

### ๐ต Interface Adapters Layer
**ะะฐัะฟะพะปะพะถะตะฝะธะต:** `internal/interfaces/`

**ะงัะพ ัะพะดะตัะถะธั:**
- ๐ฎ **Controllers** - HTTP handlers
- ๐ **Presenters** - ัะพัะผะฐัะธัะพะฒะฐะฝะธะต ะพัะฒะตัะพะฒ
- ๐ **Gateways** - ะฐะดะฐะฟัะตัั ะดะปั ะฒะฝะตัะฝะธั ัะตัะฒะธัะพะฒ

**ะัะธะฝัะธะฟั:**
- โ ะัะตะพะฑัะฐะทัะตั ะดะฐะฝะฝัะต ะผะตะถะดั ะฒะฝะตัะฝะธะผ ะผะธัะพะผ ะธ Use Cases
- โ ะะฑัะฐะฑะฐััะฒะฐะตั HTTP ะฟัะพัะพะบะพะป
- โ ะะ ัะพะดะตัะถะธั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ

**ะัะธะผะตั:**
```go
// internal/interfaces/controllers/auth_controller.go
func (c *AuthController) Register(w http.ResponseWriter, r *http.Request) {
    // 1. ะะทะฒะปะตะบะฐะตะผ ะดะฐะฝะฝัะต ะธะท HTTP ะทะฐะฟัะพัะฐ
    var req auth.RegisterRequest
    json.NewDecoder(r.Body).Decode(&req)
    
    // 2. ะัะทัะฒะฐะตะผ Use Case
    response, err := c.registerUC.Execute(r.Context(), req)
    
    // 3. ะะพะทะฒัะฐัะฐะตะผ HTTP ะพัะฒะตั
    c.writeJSONResponse(w, response, http.StatusCreated)
}
```

### ๐ต Infrastructure Layer (Frameworks & Drivers)
**ะะฐัะฟะพะปะพะถะตะฝะธะต:** `internal/infrastructure/`

**ะงัะพ ัะพะดะตัะถะธั:**
- ๐๏ธ **Database** - ัะฐะฑะพัะฐ ั PostgreSQL
- ๐ **Web** - HTTP ัะตัะฒะตั ะธ middleware
- ๐ **External** - ะฒะฝะตัะฝะธะต ัะตัะฒะธัั (JWT, bcrypt, etc.)

**ะัะธะฝัะธะฟั:**
- โ ะะตะฐะปะธะทัะตั ะธะฝัะตััะตะนัั ะธะท ะฒะฝัััะตะฝะฝะธั ัะปะพะตะฒ
- โ ะกะพะดะตัะถะธั ัะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ
- โ ะะพะถะตั ะฑััั ะทะฐะผะตะฝะตะฝ ะฑะตะท ะธะทะผะตะฝะตะฝะธั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ

**ะัะธะผะตั:**
```go
// internal/infrastructure/database/user_repository.go
func (r *UserRepository) Save(ctx context.Context, u *user.User) error {
    query := `INSERT INTO users (email, hashed_password, name) VALUES ($1, $2, $3)`
    _, err := r.db.ExecContext(ctx, query, u.Email, u.HashedPassword, u.Name)
    return err
}
```

## ๐ ะกัััะบัััะฐ ะฟะฐะฟะพะบ

```
CleanArchitecture/
โโโ ๐ cmd/                          # ะขะพัะบะธ ะฒัะพะดะฐ ะฟัะธะปะพะถะตะฝะธั
โ   โโโ main.go                      # ะะปะฐะฒะฝะฐั ััะฝะบัะธั
โโโ ๐ configs/                      # ะะพะฝัะธะณััะฐัะธั
โ   โโโ config.go                    # ะะฐะณััะทะบะฐ ะฝะฐัััะพะตะบ
โโโ ๐ internal/                     # ะะฝัััะตะฝะฝะธะน ะบะพะด ะฟัะธะปะพะถะตะฝะธั
โ   โโโ ๐ domain/                   # ๐๏ธ DOMAIN LAYER
โ   โ   โโโ ๐ user/
โ   โ   โ   โโโ entity.go            # ะะพะผะตะฝะฝะฐั ะผะพะดะตะปั User
โ   โ   โ   โโโ repository.go        # ะะฝัะตััะตะนั UserRepository
โ   โ   โโโ ๐ link/
โ   โ   โ   โโโ entity.go            # ะะพะผะตะฝะฝะฐั ะผะพะดะตะปั Link
โ   โ   โ   โโโ repository.go        # ะะฝัะตััะตะนั LinkRepository
โ   โ   โโโ ๐ stat/
โ   โ       โโโ entity.go            # ะะพะผะตะฝะฝะฐั ะผะพะดะตะปั Stat
โ   โ       โโโ repository.go        # ะะฝัะตััะตะนั StatRepository
โ   โโโ ๐ usecase/                  # ๐ผ USE CASES LAYER
โ   โ   โโโ ๐ auth/
โ   โ   โ   โโโ interfaces.go        # ะะฝัะตััะตะนัั ะทะฐะฒะธัะธะผะพััะตะน
โ   โ   โ   โโโ register.go          # Use Case ัะตะณะธัััะฐัะธะธ
โ   โ   โ   โโโ login.go             # Use Case ะฒัะพะดะฐ
โ   โ   โโโ ๐ link/
โ   โ   โ   โโโ interfaces.go        # ะะฝัะตััะตะนัั ะทะฐะฒะธัะธะผะพััะตะน
โ   โ   โ   โโโ create.go            # Use Case ัะพะทะดะฐะฝะธั ัััะปะบะธ
โ   โ   โ   โโโ redirect.go          # Use Case ัะตะดะธัะตะบัะฐ
โ   โ   โโโ ๐ stat/
โ   โ       โโโ interfaces.go        # ะะฝัะตััะตะนัั ะทะฐะฒะธัะธะผะพััะตะน
โ   โ       โโโ track_click.go       # Use Case ะพััะปะตะถะธะฒะฐะฝะธั ะบะปะธะบะพะฒ
โ   โโโ ๐ infrastructure/           # ๐ INFRASTRUCTURE LAYER
โ   โ   โโโ ๐ database/
โ   โ   โ   โโโ connection.go        # ะะพะดะบะปััะตะฝะธะต ะบ PostgreSQL
โ   โ   โ   โโโ user_repository.go   # ะะตะฐะปะธะทะฐัะธั UserRepository
โ   โ   โ   โโโ link_repository.go   # ะะตะฐะปะธะทะฐัะธั LinkRepository
โ   โ   โโโ ๐ web/
โ   โ   โ   โโโ server.go            # HTTP ัะตัะฒะตั
โ   โ   โ   โโโ middleware.go        # HTTP middleware
โ   โ   โโโ ๐ external/
โ   โ       โโโ password_hasher.go   # ะะตะฐะปะธะทะฐัะธั bcrypt
โ   โ       โโโ jwt_generator.go     # ะะตะฐะปะธะทะฐัะธั JWT
โ   โโโ ๐ interfaces/               # ๐ INTERFACE ADAPTERS LAYER
โ       โโโ ๐ controllers/
โ           โโโ auth_controller.go   # HTTP ะบะพะฝััะพะปะปะตั ะฐะฒัะพัะธะทะฐัะธะธ
โ           โโโ link_controller.go   # HTTP ะบะพะฝััะพะปะปะตั ัััะปะพะบ
โโโ ๐ pkg/                          # ะัะฑะปะธัะฝัะต ะฟะฐะบะตัั
โ   โโโ ๐ di/
โ       โโโ container.go             # Dependency Injection ะบะพะฝัะตะนะฝะตั
โโโ ๐ migrations/                   # SQL ะผะธะณัะฐัะธะธ (ะฟัััะพ - ะฒ ะบะพะดะต)
โโโ go.mod                           # Go ะผะพะดัะปั
โโโ go.sum                           # ะะฐะฒะธัะธะผะพััะธ
โโโ README.md                        # ะญัะฐ ะดะพะบัะผะตะฝัะฐัะธั
```

## ๐ ะะพัะพะบ ะดะฐะฝะฝัั

### ๐ค ะัะพะดััะธะน ะทะฐะฟัะพั (ะฝะฐะฟัะธะผะตั, ัะพะทะดะฐะฝะธะต ัััะปะบะธ):

```
1. ๐ HTTP Request
   โ
2. ๐ฎ LinkController.CreateLink()
   โโโ ะะทะฒะปะตะบะฐะตั ะดะฐะฝะฝัะต ะธะท HTTP
   โโโ ะะฐะปะธะดะธััะตั JSON
   โโโ ะะทะฒะปะตะบะฐะตั User ID ะธะท JWT ัะพะบะตะฝะฐ
   โ
3. ๐ผ CreateLinkUseCase.Execute()
   โโโ ะะฐะปะธะดะธััะตั URL (ัะตัะตะท URLValidator)
   โโโ ะัะพะฒะตััะตั ะฑะตะทะพะฟะฐัะฝะพััั URL
   โโโ ะะตะฝะตัะธััะตั ะบะพัะพัะบะธะน ะบะพะด (ัะตัะตะท ShortCodeGenerator)
   โโโ ะกะพะทะดะฐะตั ะดะพะผะตะฝะฝัั ะผะพะดะตะปั Link
   โโโ ะกะพััะฐะฝัะตั ัะตัะตะท LinkRepository
   โ
4. ๐๏ธ LinkRepository.Save()
   โโโ ะัะตะพะฑัะฐะทัะตั ะดะพะผะตะฝะฝัั ะผะพะดะตะปั ะฒ SQL
   โโโ ะัะฟะพะปะฝัะตั INSERT ะทะฐะฟัะพั ะฒ PostgreSQL
   โโโ ะะพะทะฒัะฐัะฐะตั ัะตะทัะปััะฐั
   โ
5. ๐ค HTTP Response (JSON ั ะบะพัะพัะบะพะน ัััะปะบะพะน)
```

### ๐ ะะตะดะธัะตะบั ะฟะพ ะบะพัะพัะบะพะน ัััะปะบะต:

```
1. ๐ GET /{shortCode}
   โ
2. ๐ฎ LinkController.Redirect()
   โโโ ะะทะฒะปะตะบะฐะตั shortCode ะธะท URL
   โโโ ะะพะปััะฐะตั User-Agent, IP, Referer
   โโโ ะัะทัะฒะฐะตั RedirectUseCase
   โ
3. ๐ผ RedirectUseCase.Execute()
   โโโ ะะฐัะพะดะธั ัััะปะบั ะฟะพ ะบะพะดั (ัะตัะตะท LinkRepository)
   โโโ ะฃะฒะตะปะธัะธะฒะฐะตั ััะตััะธะบ ะบะปะธะบะพะฒ
   โโโ ะัะฑะปะธะบัะตั ัะพะฑััะธะต (ัะตัะตะท EventPublisher)
   โ
4. ๐ HTTP Redirect (302) ะฝะฐ ะพัะธะณะธะฝะฐะปัะฝัะน URL
```

## ๐ ะะฐะฟััะบ ะฟัะพะตะบัะฐ

### ๐ ะะฐัััะพะนะบะฐ PostgreSQL

```bash
# ะะฐะฟััะบ PostgreSQL ะฒ Docker
docker run -d \
  --name postgres \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=url_shortener \
  -p 5432:5432 \
  postgres:15

# ะะปะธ ะธัะฟะพะปัะทัะนัะต docker-compose.yml
docker-compose up -d
```

### โ๏ธ ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

```bash
# ะกะพะทะดะฐะนัะต .env ัะฐะนะป
cp .env.example .env

# ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ
export DB_HOST=localhost
export DB_PORT=5432
export DB_USER=postgres
export DB_PASSWORD=postgres
export DB_NAME=url_shortener
export DB_SSL_MODE=disable

export SERVER_HOST=0.0.0.0
export SERVER_PORT=8080

export JWT_SECRET=your-super-secret-key-change-in-production
export JWT_ISSUER=url-shortener
export JWT_EXPIRY=24h

export BASE_URL=http://localhost:8080
export ENVIRONMENT=development
```

### ๐โโ๏ธ ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

```bash
# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
go mod download

# ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั
go run cmd/main.go

# ะะปะธ ัะฑะพัะบะฐ ะธ ะทะฐะฟััะบ
go build -o bin/url-shortener cmd/main.go
./bin/url-shortener
```

### ๐ฑ ะัะฒะพะด ะฟัะธ ะทะฐะฟััะบะต:

```
๐ Starting URL Shortener Service...
๐ Configuration loaded for environment: development
๐ง Initializing dependencies...
โ Dependencies initialized successfully
๐ HTTP server starting on 0.0.0.0:8080
```

## ๐ก API Endpoints

### ๐ ะััะตะฝัะธัะธะบะฐัะธั

#### ะะตะณะธัััะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปั
```http
POST /auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "strongpassword",
  "name": "John Doe"
}
```

**ะัะฒะตั:**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user_id": 1,
  "email": "user@example.com",
  "name": "John Doe"
}
```

#### ะัะพะด ะฟะพะปัะทะพะฒะฐัะตะปั
```http
POST /auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "strongpassword"
}
```

### ๐ ะะฐะฑะพัะฐ ัะพ ัััะปะบะฐะผะธ

#### ะกะพะทะดะฐะฝะธะต ะบะพัะพัะบะพะน ัััะปะบะธ
```http
POST /links
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "original_url": "https://example.com/very/long/url",
  "custom_code": "my-link"  // ะพะฟัะธะพะฝะฐะปัะฝะพ
}
```

**ะัะฒะตั:**
```json
{
  "id": 1,
  "original_url": "https://example.com/very/long/url",
  "short_code": "my-link",
  "short_url": "http://localhost:8080/my-link",
  "created_at": "2024-01-01T12:00:00Z"
}
```

#### ะะพะปััะตะฝะธะต ัััะปะพะบ ะฟะพะปัะทะพะฒะฐัะตะปั
```http
GET /links?limit=20&offset=0
Authorization: Bearer YOUR_JWT_TOKEN
```

#### ะะตะดะธัะตะบั ะฟะพ ะบะพัะพัะบะพะน ัััะปะบะต
```http
GET /{shortCode}
```
ะะพะทะฒัะฐัะฐะตั `HTTP 302 Redirect` ะฝะฐ ะพัะธะณะธะฝะฐะปัะฝัะน URL.

### ๐ฅ Health Check
```http
GET /health
```

**ะัะฒะตั:**
```json
{
  "status": "ok",
  "service": "url-shortener"
}
```

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ๐ง ะฎะฝะธั-ัะตััั

```bash
# ะะฐะฟััะบ ะฒัะตั ัะตััะพะฒ
go test ./...

# ะขะตััั ั ะฟะพะบัััะธะตะผ
go test -cover ./...

# Verbose ัะตะถะธะผ
go test -v ./...
```

### ๐ ะขะตััั ะฟะพ ัะปะพัะผ

```bash
# ะขะตััะธัะพะฒะฐะฝะธะต ะดะพะผะตะฝะฝะพะณะพ ัะปะพั
go test ./internal/domain/...

# ะขะตััะธัะพะฒะฐะฝะธะต Use Cases
go test ./internal/usecase/...

# ะขะตััะธัะพะฒะฐะฝะธะต ะบะพะฝััะพะปะปะตัะพะฒ
go test ./internal/interfaces/...
```

### ๐ณ ะะฝัะตะณัะฐัะธะพะฝะฝัะต ัะตััั

```bash
# ะะฐะฟััะบ ั ัะตััะพะฒะพะน ะะ
export ENVIRONMENT=test
export DB_NAME=url_shortener_test
go test -tags=integration ./...
```

## ๐ง ะะพะฝัะธะณััะฐัะธั

### ๐ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

| ะะตัะตะผะตะฝะฝะฐั | ะะพ ัะผะพะปัะฐะฝะธั | ะะฟะธัะฐะฝะธะต |
|------------|--------------|----------|
| `DB_HOST` | `localhost` | ะฅะพัั ะฑะฐะทั ะดะฐะฝะฝัั |
| `DB_PORT` | `5432` | ะะพัั ะฑะฐะทั ะดะฐะฝะฝัั |
| `DB_USER` | `postgres` | ะะพะปัะทะพะฒะฐัะตะปั ะะ |
| `DB_PASSWORD` | `postgres` | ะะฐัะพะปั ะะ |
| `DB_NAME` | `url_shortener` | ะะผั ะฑะฐะทั ะดะฐะฝะฝัั |
| `DB_SSL_MODE` | `disable` | ะะตะถะธะผ SSL ะดะปั ะะ |
| `SERVER_HOST` | `0.0.0.0` | ะฅะพัั HTTP ัะตัะฒะตัะฐ |
| `SERVER_PORT` | `8080` | ะะพัั HTTP ัะตัะฒะตัะฐ |
| `JWT_SECRET` | โ๏ธ **ะะฑัะทะฐัะตะปัะฝะพ** | ะกะตะบัะตัะฝัะน ะบะปัั ะดะปั JWT |
| `JWT_ISSUER` | `url-shortener` | ะะทะดะฐัะตะปั JWT ัะพะบะตะฝะพะฒ |
| `JWT_EXPIRY` | `24h` | ะัะตะผั ะถะธะทะฝะธ JWT |
| `BASE_URL` | `http://localhost:8080` | ะะฐะทะพะฒัะน URL ะดะปั ะบะพัะพัะบะธั ัััะปะพะบ |
| `ENVIRONMENT` | `development` | ะะบััะถะตะฝะธะต (dev/staging/prod) |

### ๐ญ ะัะพะดะฐะบัะตะฝ ะฝะฐัััะพะนะบะธ

```bash
export ENVIRONMENT=production
export JWT_SECRET=very-strong-secret-key-256-bits
export DB_SSL_MODE=require
export SERVER_READ_TIMEOUT=10s
export SERVER_WRITE_TIMEOUT=10s
export BCRYPT_COST=14
```

## ๐ ะัะตะธะผััะตััะฒะฐ ะฐััะธัะตะบัััั

### โ ะขะตััะธััะตะผะพััั

```go
// ะะตะณะบะพ ะผะพะบะฐัั ะทะฐะฒะธัะธะผะพััะธ ะดะปั ัะตััะพะฒ
func TestRegisterUseCase(t *testing.T) {
    mockUserRepo := &MockUserRepository{}
    mockPasswordHasher := &MockPasswordHasher{}
    mockTokenGenerator := &MockTokenGenerator{}
    
    useCase := auth.NewRegisterUseCase(
        mockUserRepo,
        mockPasswordHasher, 
        mockTokenGenerator,
    )
    
    // ะขะตัั ะฑะตะท ัะตะฐะปัะฝะพะน ะะ, bcrypt ะธ JWT
}
```

### ๐ ะะฐะผะตะฝัะตะผะพััั ะบะพะผะฟะพะฝะตะฝัะพะฒ

```go
// ะะตะณะบะพ ะทะฐะผะตะฝะธัั PostgreSQL ะฝะฐ MongoDB
userRepo := mongodb.NewUserRepository(mongoClient)

// ะะปะธ ะทะฐะผะตะฝะธัั bcrypt ะฝะฐ argon2
passwordHasher := external.NewArgon2PasswordHasher()

// ะะปะธ ะดะพะฑะฐะฒะธัั Redis ะบะตั
userRepo = cache.NewCachedUserRepository(userRepo, redisClient)
```

### ๐ฏ ะะตะทะฐะฒะธัะธะผะพััั ะพั ััะตะนะผะฒะพัะบะพะฒ

- **ะะพะถะฝะพ ะทะฐะผะตะฝะธัั** `net/http` ะฝะฐ Gin/Echo ะฑะตะท ะธะทะผะตะฝะตะฝะธั Use Cases
- **ะะพะถะฝะพ ะทะฐะผะตะฝะธัั** PostgreSQL ะฝะฐ MySQL ะฑะตะท ะธะทะผะตะฝะตะฝะธั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ  
- **ะะพะถะฝะพ ะดะพะฑะฐะฒะธัั** gRPC API ััะดะพะผ ั HTTP API
- **ะะพะถะฝะพ ะดะพะฑะฐะฒะธัั** CLI ะธะฝัะตััะตะนั

### ๐ก๏ธ ะะตะทะพะฟะฐัะฝะพััั ะทะฐะฒะธัะธะผะพััะตะน

- ะะพะผะตะฝะฝัะน ัะปะพะน **ะฝะต ะทะฝะฐะตั** ะพ HTTP, SQL, JWT
- Use Cases **ะฝะต ะทะฝะฐัั** ะพ ะบะพะฝะบัะตัะฝัั ะะ ะธ ะฑะธะฑะปะธะพัะตะบะฐั
- ะะธะทะฝะตั-ะปะพะณะธะบะฐ **ะทะฐัะธัะตะฝะฐ** ะพั ะธะทะผะตะฝะตะฝะธะน ะฒะพ ะฒะฝะตัะฝะธั ะทะฐะฒะธัะธะผะพัััั

### ๐ ะะฐัััะฐะฑะธััะตะผะพััั

- **ะะธะบัะพัะตัะฒะธัั**: ะบะฐะถะดัะน Use Case ะผะพะถะตั ััะฐัั ะพัะดะตะปัะฝัะผ ัะตัะฒะธัะพะผ
- **CQRS**: ะปะตะณะบะพ ัะฐะทะดะตะปะธัั ะบะพะผะฐะฝะดั ะธ ะทะฐะฟัะพัั
- **Event Sourcing**: ะปะตะณะบะพ ะดะพะฑะฐะฒะธัั ัะพะฑััะธะนะฝัั ะผะพะดะตะปั
- **DDD**: ะตััะตััะฒะตะฝะฝะพ ัะฐััะธััะตััั ะดะพ Domain-Driven Design

---

## ๐จโ๐ป ะะปั ัะฐะทัะฐะฑะพััะธะบะพะฒ

### ๐ ะะฐะบ ัะธัะฐัั ะบะพะด

1. **ะะฐัะฝะธัะต ั** `cmd/main.go` - ัะพัะบะฐ ะฒัะพะดะฐ
2. **ะะทััะธัะต** `pkg/di/container.go` - ะฒะธัะธัะพะฒะฐะฝะธะต ะทะฐะฒะธัะธะผะพััะตะน  
3. **ะะพัะผะพััะธัะต** `internal/domain/` - ะดะพะผะตะฝะฝัะต ะผะพะดะตะปะธ
4. **ะะทััะธัะต** `internal/usecase/` - ะฑะธะทะฝะตั-ะปะพะณะธะบั
5. **ะะพัะผะพััะธัะต** `internal/interfaces/controllers/` - HTTP API

### ๐๏ธ ะะฐะบ ะดะพะฑะฐะฒะธัั ะฝะพะฒัั ััะฝะบัะธะพะฝะฐะปัะฝะพััั

1. **ะกะพะทะดะฐะนัะต** ะดะพะผะตะฝะฝัั ะผะพะดะตะปั ะฒ `internal/domain/`
2. **ะะฟัะตะดะตะปะธัะต** ะธะฝัะตััะตะนั ัะตะฟะพะทะธัะพัะธั
3. **ะกะพะทะดะฐะนัะต** Use Case ะฒ `internal/usecase/`
4. **ะะตะฐะปะธะทัะนัะต** ัะตะฟะพะทะธัะพัะธะน ะฒ `internal/infrastructure/database/`
5. **ะกะพะทะดะฐะนัะต** ะบะพะฝััะพะปะปะตั ะฒ `internal/interfaces/controllers/`
6. **ะะฐัะตะณะธัััะธััะนัะต** ะฒ DI ะบะพะฝัะตะนะฝะตัะต

### ๐ ะกัะธะปั ะบะพะดะฐ

- โ **ะะพะดัะพะฑะฝัะต ะบะพะผะผะตะฝัะฐัะธะธ** ะพะฑัััะฝััั ะฟัะธะฝัะธะฟั ะฐััะธัะตะบัััั
- โ **ะะพะฝััะฐะฝัั ะพัะธะฑะพะบ** ะพะฟัะตะดะตะปะตะฝั ะฒ ะดะพะผะตะฝะฝะพะผ ัะปะพะต
- โ **ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั** ะฝะฐ ะบะฐะถะดะพะผ ััะพะฒะฝะต
- โ **Graceful shutdown** ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ
- โ **Structured logging** (ะผะพะถะฝะพ ะดะพะฑะฐะฒะธัั)

---

**๐ ะะพะทะดัะฐะฒะปัะตะผ! ะั ะธะทััะธะปะธ ะฟะพะปะฝัั ัะตะฐะปะธะทะฐัะธั Clean Architecture ะฝะฐ Go!**

ะญัะพั ะฟัะพะตะบั ะดะตะผะพะฝัััะธััะตั ะฒัะต ะบะปััะตะฒัะต ะฟัะธะฝัะธะฟั ะธ ะผะพะถะตั ัะปัะถะธัั ะพัะฝะพะฒะพะน ะดะปั ัะตะฐะปัะฝัั ะฟัะพะดะฐะบัะตะฝ ะฟัะธะปะพะถะตะฝะธะน.